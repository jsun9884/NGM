<md-dialog aria-label="New Configuration">
    <form>
        <md-toolbar style="min-height: 50px; height: 50px">
            <div class="md-toolbar-tools">
                <h2>New Configuration</h2>
                <span flex></span>
                <md-button class="md-icon-button"
                           ng-click="cancel()">
                    <md-icon aria-label="Close dialog">close</md-icon>
                </md-button>
            </div>
        </md-toolbar>
        <md-dialog-content style="max-width:450px; min-width:450px;max-height:810px;">
            <div class="md-dialog-content">
                <md-list>

                    <!-- -------------------- Power Meter ------------------------ -->
                    <h3 class="md-subhead md-no-sticky">
                        <span class="item-title">Power Meter</span>
                    </h3>
                    <md-divider></md-divider>

                    <md-list-item>
                        <md-icon class="material-icons md-light md-48">warning</md-icon>
                        <p>Voltage Threshold Min</p>
                        <md-input-container style="margin: 0" class="md-block" md-no-float>
                            <input flex
                                   aria-label="Voltage Threshold Min"
                                   style="max-width: 80px"
                                   type="number"
                                   ng-model="config.PowerMeter.HrData.voltage1.thresholdLow"
                                    />
                        </md-input-container>
                    </md-list-item>
                    <md-list-item>
                        <md-icon class="material-icons md-light md-48">warning</md-icon>
                        <p>Voltage Threshold Max</p>
                        <md-input-container style="margin: 0" class="md-block" md-no-float>
                            <input flex
                                   aria-label="Voltage Threshold Max"
                                   style="max-width: 80px"
                                   type="number"
                                   ng-model="config.PowerMeter.HrData.voltage1.thresholdHigh"
                                    />
                        </md-input-container>
                    </md-list-item>
                    <md-list-item>
                        <md-icon class="material-icons md-light md-48">warning</md-icon>
                        <p>Current Threshold Min</p>
                        <md-input-container style="margin: 0" class="md-block" md-no-float>
                            <input flex style="max-width: 80px"
                                   aria-label="Current Threshold Min"
                                   type="number"
                                   ng-model="config.PowerMeter.HrData.current1.thresholdLow"
                                    />
                        </md-input-container>
                    </md-list-item>
                    <md-list-item>
                        <md-icon class="material-icons md-light md-48">warning</md-icon>
                        <p>Current Threshold Max</p>
                        <md-input-container style="margin: 0" class="md-block" md-no-float>
                            <input flex style="max-width: 80px"
                                   aria-label="Current Threshold Max"
                                   type="number"
                                   ng-model="config.PowerMeter.HrData.current1.thresholdHigh"
                            />
                        </md-input-container>
                    </md-list-item>

                    <!-- -------------------- APN Settings ------------------------ -->
                    <h3 class="md-subhead md-no-sticky">
                        <span class="item-title">APN Settings</span>
                    </h3>
                    <md-divider></md-divider>

                    <md-list-item>
                        <md-icon class="material-icons md-light md-48">network_cell</md-icon>
                        <p>GSM APN</p>
                        <md-input-container style="margin: 0" class="md-block" md-no-float>
                            <input flex
                                   aria-label="GSM APN"
                                   style="max-width: 120px"
                                   type="text"
                                   ng-model="config.General.GsmApn"
                            />
                        </md-input-container>
                    </md-list-item>
                    <md-list-item>
                        <md-icon class="material-icons md-light md-48">network_cell</md-icon>
                        <p>GSM Number</p>
                        <md-input-container style="margin: 0" class="md-block" md-no-float>
                            <input flex
                                   aria-label="GSM Number"
                                   style="max-width: 120px"
                                   type="text"
                                   ng-model="config.General.GsmNumber"
                            />
                        </md-input-container>
                    </md-list-item>
                    <md-list-item>
                        <md-icon class="material-icons md-light md-48">network_cell</md-icon>
                        <p>GSM Username</p>
                        <md-input-container style="margin: 0" class="md-block" md-no-float>
                            <input flex
                                   aria-label="GSM Username"
                                   style="max-width: 120px"
                                   type="text"
                                   ng-model="config.General.GsmUsername"
                            />
                        </md-input-container>
                    </md-list-item>
                    <md-list-item>
                        <md-icon class="material-icons md-light md-48">network_cell</md-icon>
                        <p>GSM Password</p>
                        <md-input-container style="margin: 0" class="md-block" md-no-float>
                            <input flex
                                   aria-label="GSM Password"
                                   style="max-width: 120px"
                                   type="text"
                                   ng-model="config.General.GsmPassword"
                                    />
                        </md-input-container>
                    </md-list-item>


                    <!-- -------------------- Data Switch ------------------------ -->
                    <h3 class="md-subhead md-no-sticky">
                        <span class="item-title">Data Switch</span>
                    </h3>
                    <md-divider></md-divider>

                    <md-list-item ng-class="{'disabled_option' : !$ctrl.activeDevice.config.DataSwitch}">
                        <md-icon class="material-icons md-light md-48">settings_input_component</md-icon>
                        <p> Open / Close Data Port A </p>
                        <md-switch class="md-secondary"
                                   ng-model="config.DataSwitch.PortAEnabled"
                                   ng-disabled="!$ctrl.activeDevice.config.DataSwitch"
                        >
                        </md-switch>
                    </md-list-item>
                    <md-list-item ng-class="{'disabled_option' : !$ctrl.activeDevice.config.DataSwitch}">
                        <md-icon class="material-icons md-light md-48">settings_input_component</md-icon>
                        <p> Open / Close Data Port B </p>
                        <md-switch class="md-secondary"
                                   ng-model="config.DataSwitch.PortBEnabled"
                                   ng-disabled="!$ctrl.activeDevice.config.DataSwitch"
                        >
                        </md-switch>
                    </md-list-item>
<!--                    <md-list-item class="disabled_option">
                        <md-icon class="material-icons md-light md-48">settings_input_component</md-icon>
                        <p> Open / Close Data Port C </p>
                        <md-switch class="md-secondary"
                                   ng-model="config.sensors.dataSwitch.portCOpened" disabled>
                        </md-switch>
                    </md-list-item>-->

<!--
                    <h3 class="md-subhead md-no-sticky">
                        <span class="item-title">Bluetooth</span>
                    </h3>
                    <md-divider></md-divider>

                    <md-list-item class="disabled_option">
                        <md-icon class="material-icons md-light md-48">bluetooth</md-icon>
                        <p>Enabled / Disable Bluetooth</p>
                        <md-switch class="md-secondary" ng-model="config.sensors.blueTooth.enabled" disabled></md-switch>
                    </md-list-item>
-->

                    <!-- -------------------- ZigBee ------------------------ -->
                    <h3 class="md-subhead md-no-sticky">
                        <span class="item-title">ZigBee</span>
                    </h3>
                    <md-divider></md-divider>

                    <md-list-item class="disabled_option">
                        <md-icon class="material-icons md-light md-48">settings_remote</md-icon>
                        <p>Enabled / Disable ZigBee</p>
                        <md-switch class="md-secondary" ng-model="config.sensors.zigBee.enabled" disabled></md-switch>
                    </md-list-item>

                    <!-- -------------------- GPS ------------------------ -->
                    <h3 class="md-subhead md-no-sticky">
                        <span class="item-title">GPS</span>
                    </h3>
                    <md-divider></md-divider>

                    <md-list-item>
                        <md-icon class="material-icons md-light md-48">gps_fixed</md-icon>
                        <p>Enabled / Disable GPS</p>
                        <md-switch class="md-secondary" ng-model="config.General.GpsEnabled"></md-switch>
                    </md-list-item>

                    <!-- -------------------- Events Reporting ------------------------ -->
                    <h3 class="md-subhead md-no-sticky">
                        <span class="item-title">Events Reporting</span>
                    </h3>
                    <md-divider></md-divider>

                    <md-list-item>
                        <md-icon class="material-icons md-light md-48">event_note</md-icon>
                        <p>Enable / Disable Events reporting</p>
                        <md-switch class="md-secondary" ng-model="config.General.EventsEnabled"></md-switch>
                    </md-list-item>

                    <!-- -------------------- Transmission Rate ------------------------ -->
                    <h3 class="md-subhead md-no-sticky">
                        <span class="item-title">Transmission Rate</span>
                    </h3>
                    <md-divider></md-divider>

                    <md-list-item>
                        <md-icon class="material-icons md-light md-48">compare_arrows</md-icon>
                        <p>Regular Messages</p>

<!--
                        <span layout="column">Every</span>
                        <md-input-container>
                            <input layout="column"
                                   aria-label="Voltage Threshold Min"
                                   style="max-width: 50px; margin: 0 5px"
                                   type="number"
                                   min="1"
                                   ng-model="config.General.RegularMsgTransmissionRate"
                            />
                        </md-input-container>
                        <span layout="column">Second{{config.General.RegularMsgTransmissionRate > 1 ? 's' : ''}}</span>
-->
<!--
                        <md-input-container>
                            <md-select ng-model="config.General.RegularMsgTransmissionRate"
                                       aria-label="Regular Messages" convert-to-number>
                                <md-option value="1">
                                    Every Second
                                </md-option>
                                <md-option value="5">
                                    Every 5 Seconds
                                </md-option>
                            </md-select>
                        </md-input-container>
-->
                        <md-input-container style="padding-right: 10px" class="md-block hidden-errors-spacer" md-padding md-no-float>
                            <input flex
                                   style="width: 50px"
                                   type="number"
                                   min="0"
                                   max="{{preConfig.General.Unit == 'hour' ? 24 : 59}}"
                                   ng-model="preConfig.General.Rate"
                            />
                        </md-input-container>
                        <md-input-container md-padding >
                            <md-select ng-model="preConfig.General.Unit"
                                       aria-label="Regular Messages"
                                       style="min-width: 100px"
                            >
                                <md-option value="sec">
                                    Second{{preConfig.General.Rate > 1 ? 's' : ''}}
                                </md-option>
                                <md-option value="min">
                                    Minute{{preConfig.General.Rate > 1 ? 's' : ''}}
                                </md-option>
                                <md-option value="hour">
                                    Hour{{preConfig.General.Rate > 1 ? 's' : ''}}
                                </md-option>
                            </md-select>
                        </md-input-container>
                    </md-list-item>

                    <!-- -------------------- Additional Settings ------------------------ -->
                    <h3 class="md-subhead md-no-sticky">
                        <span class="item-title">Additional Settings</span>
                    </h3>
                    <md-divider></md-divider>

                    <md-list-item>
                        <md-icon class="material-icons md-light md-48">autorenew</md-icon>
                        <p>Automatic HR Data upon event occurrence </p>
                        <md-switch class="md-secondary"
                                   ng-model="config.General.AutoHrEnabled"></md-switch>
                    </md-list-item>
                </md-list>
            </div>
        </md-dialog-content>
        <md-dialog-actions layout="row">
            <md-button ng-click="cancel('Cancel')">Cancel</md-button>
            <md-button ng-click="answer('Apply')">Apply</md-button>
        </md-dialog-actions>
    </form>
</md-dialog>